{% extends 'base.html' %}
{% block title %}Home{% endblock %}
{% block content %}
<div class="grey_container">
  <div class="container mt-5">
    <div class="bd-masthead" id="content">
      <div class="header_content d-flex">
        <div class="location_div me-auto">
          <div class="title_div d-flex">
            <h1 class="fs-1 text-white">{{ location }}, {{ country }}</h1>
          </div>
          <p class="fs-5 text-muted mt-2">
            {% if date %} {{ date | strptime("%Y-%m-%d") | strftime("%d.%m.%Y") }} {% endif %}, {{ time }}
          </p>
        </div>
        <div class="temperature_div me-3">
          <h1 class="text-white fs-3 fw-bold">{{ temperature | round | int }} {{ 'Â°F' if temp_scale == 'temp_f' else 'Â°C' }}</h1>
        </div>
        <div class="weather_div">
          <h1 class="fs-3 text-muted">{{ condition }}</h1>
          <small class="text-muted">Precipitation: {{ precipitation }}%</small><br>
          <small class="text-muted">Humidity: {{ humidity }}%</small><br>
          <small class="text-muted">Wind: {{ wind }} kp/h</small>
        </div>
      </div>
      <hr>
      <div class="body_content mb-5 mt-5 border-grayish">
        <h5 class="mt-4 ms-4">Hourly temperature in {{ 'Â°F' if temp_scale == 'temp_f' else 'Â°C' }}</h5>
        <div class="weather-graph-container mt-3 mb-5">
          <div class="weather-graph">
            {% for hour in recent_hours %}
            <div class="hour-column" data-temp="{{ hour['temp_c'] | round | int }}">
              <div class="temp-bar"></div>
              <div class="time-label fs-6 text-secondary fw-medium">{{ hour['time'][11:] }}</div>
              <div class="temp-label fs-6 fw-medium text-body-secondary">{{ hour[temp_scale] | round | int }}Â°</div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
      <div class="body_content mb-5 mt-5">
        <div class="row row-cols-1 row-cols-md-6 g-4 mx-n2">
          {% if forecast_days_list %}
          {% for day in forecast_days_list %}
          <div class="col px-2">
            <div class="card text-center bg-transparent h-100">
              {% if day['date'] == date %}
              <h4 class="mt-3">{{ day['date'] | strptime("%Y-%m-%d") | strftime("%A") }}</h4>
              {% else %}
              <h4 class="mt-3 fw-light">{{ day['date'] | strptime("%Y-%m-%d") | strftime("%A") }}</h4>
              {% endif %}
              <div class="mb-3 mt-2">
                <img src="{{ day['day']['condition']['icon'] }}" alt="{{ day['day']['condition']['text'] }}">
              </div>
              <div class="mb-3 mt-1">
                <div class="footer_text d-flex justify-content-center text-center">
                  <h5 class="text-white me-2">{{ day['day']['mintemp_c'] | round | int }}Â°</h5>
                  <h5 class="text-secondary">{{ day['day']['maxtemp_c'] | round | int }}Â°</h5>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
          {% if forecast_days_list|length < 6 %}
          {% for missing_day in range(6 - forecast_days_list|length) %}
          <div class="col px-2">
            <div class="card text-center bg-transparent h-100">
              <h4 class="mt-3 fw-light">Unknown</h4>
              <div class="mb-3 mt-3">
                <h1>ðŸ˜ž</h1>
              </div>
              <div class="mb-3 mt-1">
                <div class="footer_text d-flex justify-content-center text-center">
                  <h5 class="text-secondary">No data</h5>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
          {% endif %}
          {% endif %}
        </div>
      </div>
      <div class="separator mb-5"><a class="link-secondary" href="https://www.weatherapi.com/">Weather API</a></div>
    </div>
  </div>
</div>
<script src="/static/js/recentTemperature.js"></script>
{% endblock %}